<div class="vital-signs-patient-view p-4 md:p-6 bg-card rounded-lg shadow-sm">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold text-text-dark">Vital Signs</h2>
      <button class="text-text-light hover:text-text-dark focus:outline-none">
        <i class="fas fa-ellipsis-h"></i>
      </button>
    </div>
  
    <div *ngIf="isLoading" class="text-center py-8">
      <p class="text-text-light">Chargement des signes vitaux...</p>
    </div>
  
    <div *ngIf="!isLoading && latestVitalsForDisplay.length > 0">
      <p class="text-sm text-text-light mb-6" *ngIf="lastRecordedDate">
        Last recorded: {{ lastRecordedDate | date:'MMMM d, y' }}
      </p>
      <p class="text-sm text-text-light mb-6" *ngIf="!lastRecordedDate && !isLoading">
        No recent vital signs recorded.
      </p>
  
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <div *ngFor="let vital of latestVitalsForDisplay"
             class="bg-background p-4 rounded-lg shadow hover:shadow-lg transition-shadow duration-150 ease-in-out cursor-pointer"
             (click)="viewChart(vital.type, vital.label)">
          <div class="flex justify-between items-start">
            <div>
              <p class="text-xs text-text-light mb-1">{{ vital.label }}</p>
              <p class="text-2xl font-bold text-primary">
                {{ vital.value }}
                <span *ngIf="vital.unit" class="text-lg font-normal text-text-light ml-1">{{ vital.unit }}</span> <!-- CORRIGÉ: Condition simplifiée -->
              </p>
            </div>
            <i *ngIf="vital.iconClass" [class]="vital.iconClass + ' text-text-light text-opacity-60 text-xl mt-1'"></i>
          </div>
        </div>
      </div>
    </div>
  
    <div *ngIf="!isLoading && latestVitalsForDisplay.length === 0" class="text-center py-8">
      <p class="text-text-light">Aucun signe vital à afficher.</p>
    </div>
</div>