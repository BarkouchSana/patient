<!-- <div class="medical-history-container">
  
  <div *ngIf="isLoading" class="flex flex-col items-center justify-center p-10 text-center">
    <div class="w-12 h-12 border-4 border-t-4 border-border border-t-primary rounded-full animate-spin mb-4"></div>
    <p class="text-text-light">Loading medical history...</p>
  </div>

 
  <div *ngIf="!isLoading && medicalHistory" class="card">
    <div class="card-header bg-hover p-card-padding border-b border-border">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="h-6 w-6 text-primary"
          >
            <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" />
            <path d="M8 7h6" />
            <path d="M8 11h8" />
            <path d="M8 15h6" />
          </svg>
          <span class="font-display text-section-header text-text">Medical History</span>
        </div>
        <span class="text-body text-text-muted">
          Last updated: {{ medicalHistory.lastUpdated | date:'mediumDate' }}
        </span>
      </div>
    </div>
    <div class="p-card-padding">
      <div class="scroll-area h-[400px] overflow-y-auto pr-2 space-y-6">
  
        <div>
          <h3 class="font-display text-card-title text-primary mb-2">
            Current Medical Conditions
          </h3>
          <div class="bg-hover p-3 rounded-lg">
            <div *ngIf="medicalHistory.currentMedicalConditions?.length > 0; else noConditions" class="flex flex-wrap gap-2">
              <span *ngFor="let condition of medicalHistory.currentMedicalConditions" class="bg-status-info/10 text-status-info text-sm font-medium px-2.5 py-1 rounded-full">
                {{ condition }}
              </span>
            </div>
            <ng-template #noConditions>
              <p class="text-text-muted italic">No current medical conditions</p>
            </ng-template>
          </div>
        </div>

        <hr class="border-t border-border" />

       
        <div>
          <h3 class="font-display text-card-title text-primary mb-2">Past Surgeries</h3>
          <div class="bg-hover p-3 rounded-lg">
            <div *ngIf="medicalHistory.pastSurgeries?.length > 0; else noSurgeries" class="flex flex-wrap gap-2">
              <span *ngFor="let surgery of medicalHistory.pastSurgeries" class="bg-status-success/10 text-status-success text-sm font-medium px-2.5 py-1 rounded-full">
                {{ surgery }}
              </span>
            </div>
            <ng-template #noSurgeries>
              <p class="text-text-muted italic">No past surgeries</p>
            </ng-template>
          </div>
        </div>

        <hr class="border-t border-border" />

        
        <div>
          <h3 class="font-display text-card-title text-primary mb-2">Chronic Diseases</h3>
          <div class="bg-hover p-3 rounded-lg">
            <div *ngIf="medicalHistory.chronicDiseases?.length > 0; else noDiseases" class="flex flex-wrap gap-2">
              <span *ngFor="let disease of medicalHistory.chronicDiseases" class="bg-status-warning/10 text-status-warning text-sm font-medium px-2.5 py-1 rounded-full">
                {{ disease }}
              </span>
            </div>
            <ng-template #noDiseases>
              <p class="text-text-muted italic">No chronic diseases</p>
            </ng-template>
          </div>
        </div>

        <hr class="border-t border-border" />

         
        <div>
          <h3 class="font-display text-card-title text-primary mb-2">Current Medications</h3>
          <div class="bg-hover p-3 rounded-lg">
            <div *ngIf="medicalHistory.currentMedications?.length > 0; else noMedications" class="flex flex-wrap gap-2">
              <span *ngFor="let medication of medicalHistory.currentMedications" class="bg-accent/10 text-accent text-sm font-medium px-2.5 py-1 rounded-full">
                {{ medication }}
              </span>
            </div>
            <ng-template #noMedications>
              <p class="text-text-muted italic">No current medications</p>
            </ng-template>
          </div>
        </div>

        <hr class="border-t border-border" />

         
        <div>
          <h3 class="font-display text-card-title text-primary mb-2">Allergies</h3>
          <div class="bg-hover p-3 rounded-lg">
            <div *ngIf="medicalHistory.allergies?.length > 0; else noAllergies" class="flex flex-wrap gap-2">
              <span *ngFor="let allergy of medicalHistory.allergies" class="bg-status-urgent/10 text-status-urgent text-sm font-medium px-2.5 py-1 rounded-full">
                {{ allergy }}
              </span>
            </div>
            <ng-template #noAllergies>
              <p class="text-text-muted italic">No allergies</p>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>

   
  <div *ngIf="!isLoading && !medicalHistory" class="text-center text-text-muted italic p-10">
    No medical history available.
  </div>
</div> -->

<div class="medical-history-page bg-background text-text font-sans min-h-screen">
   
  <div class="px-6 md:px-10 py-8">
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
      <div>
        <h1 class="text-3xl font-bold text-text-dark mb-1">Historique Médical</h1>
        <p class="text-text-light text-base">Consultez votre historique médical complet.</p>
      </div>
      <div class="flex items-center gap-3 mt-4 md:mt-0">
        <button class="btn btn-secondary text-sm py-2 px-4 rounded-md border border-border hover:bg-hover">
          <i class="fas fa-print mr-2"></i>Imprimer
        </button>
        <button class="btn btn-primary text-sm py-2 px-4 rounded-md bg-primary text-white hover:bg-primary-dark">
          <i class="fas fa-download mr-2"></i>Télécharger
        </button>
      </div>
    </div>
  </div>

   <!-- Contenu principal avec Menu Horizontal et Router Outlet -->
   <div class="px-6 md:px-10 pb-10">
    <!-- Menu Horizontal -->
    <div class="bg-card p-4 rounded-lg shadow-sm mb-8">
      <nav>
        <ul class="flex flex-row flex-wrap items-center gap-x-2 gap-y-2 md:gap-x-3">
          <li>
            <a routerLink="overview" routerLinkActive="bg-primary-light text-primary font-semibold"
               [routerLinkActiveOptions]="{exact: true}"
               class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 text-sm">
              <i class="fas fa-user-md w-5 h-5 mr-2 text-center"></i>Vue Générale
            </a>
          </li>
          <li>
            <a (click)="scrollToSection('medical-conditions')" routerLinkActive="bg-primary-light text-primary font-semibold"
               class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 cursor-pointer text-sm">
              <i class="fas fa-stethoscope w-5 h-5 mr-2 text-center"></i>Conditions Médicales
            </a>
          </li>
          <li>
            <a (click)="scrollToSection('surgeries')" routerLinkActive="bg-primary-light text-primary font-semibold"
               class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 cursor-pointer text-sm">
              <i class="fas fa-calendar-alt w-5 h-5 mr-2 text-center"></i>Chirurgies
            </a>
          </li>
          <li>
            <a (click)="scrollToSection('chronic-diseases')" routerLinkActive="bg-primary-light text-primary font-semibold"
               class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 cursor-pointer text-sm">
              <i class="fas fa-heartbeat w-5 h-5 mr-2 text-center"></i>Maladies Chroniques
            </a>
          </li>
          <li>
            <a (click)="scrollToSection('medications')" routerLinkActive="bg-primary-light text-primary font-semibold"
               class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 cursor-pointer text-sm">
              <i class="fas fa-pills w-5 h-5 mr-2 text-center"></i>Médicaments
            </a>
          </li>
          <li>
            <a (click)="scrollToSection('allergies')" routerLinkActive="bg-primary-light text-primary font-semibold"
               class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 cursor-pointer text-sm">
              <i class="fas fa-allergies w-5 h-5 mr-2 text-center"></i>Allergies
            </a>
          </li>
          <!-- <li>
            <a routerLink="timeline" routerLinkActive="bg-primary-light text-primary font-semibold" class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 text-sm">
              <i class="fas fa-history w-5 h-5 mr-2 text-center"></i>Chronologie
            </a>
          </li> -->
          <!-- <li>
            <a href="#" class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 text-sm">
              <i class="fas fa-file-alt w-5 h-5 mr-2 text-center"></i>Documents
            </a>
          </li> -->
          <li>
            <a routerLink="vital-signs" routerLinkActive="bg-primary-light text-primary font-semibold" class="flex items-center py-2 px-3 rounded-md hover:bg-hover text-text-light hover:text-text-dark transition-colors duration-150 text-sm">
              <i class="fas fa-wave-square w-5 h-5 mr-2 text-center"></i>Signes Vitaux
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- Zone de contenu -->
    <div class="flex-1 min-w-0">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>